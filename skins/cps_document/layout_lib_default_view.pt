<!-- a layout_lib macro -->
<!-- $Id$ -->

<metal:block define-macro="default_view"
  tal:define="layout options/layout;
              dm options/datastructure/getDataModel;
             ">
<table class="layoutDefault" summary="layout">
  <tr tal:repeat="row layout/rows">
    <td tal:repeat="cell row" tal:attributes="colspan cell/ncols">
      <tal:block define="widget cell/widget">
      <div tal:attributes="class cell/widget_css_class|nothing;
                           id python:widget.getHtmlWidgetId()+'_widget';
                          ">
        <tal:block condition="widget/label">
          <span class="dlabel" i18n:translate="" tal:condition="widget/is_i18n"
                tal:content="widget/label">label</span>
          <span class="dlabel" tal:condition="not:widget/is_i18n"
                tal:content="widget/label">label</span>
        </tal:block>
        <tal:block replace="structure cell/widget_rendered" />
      </div>
      </tal:block>
    </td>
  </tr>
</table>
</metal:block>
